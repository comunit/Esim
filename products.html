<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>ReachSim - Stay Connected Worldwide</title>
        <meta
            name="description"
            content="Buy affordable eSIM data plans for travel, business, or everyday use. Stay connected in 200+ countries with instant activation and no hidden fees."
        />
        <meta name="keywords" content="eSIM, international data, travel SIM, global coverage, digital SIM" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
        <link href="./css/aos.css" rel="stylesheet" />
        <link rel="stylesheet" href="./css/swiper-bundle.min.css" />
        <link href="./css/style.css" rel="stylesheet" />
        <link rel="stylesheet" href="./css/custom.css" />
        <link rel="stylesheet" href="./css/Products.css" />
    </head>

    <body class="cn1d6 cynvb crnb7 ch42x c2bv5">
        <!-- Page wrapper -->
        <div class="cpg2k cop59 cxlmv cp6eb">
            <!-- Site header -->
            <header class="c9w3p cmyy5 cpovn">
                <div class="c9ute c64bb cmk35 chcho">
                    <div class="cpg2k cnapw c6tul cwye8 c08ir">
                        <!-- Site branding -->
                        <div class="ca5ze cp8bu">
                            <!-- Logo -->
                            <a class="cu3pn c7s5g" href="index.html" aria-label="Global eSIM">
                                <img src="./images/logo.svg" width="36" height="28" alt="Logo" />
                            </a>
                        </div>

                        <!-- Desktop navigation -->
                        <nav class="cpg2k c51b6">
                            <!-- Desktop sign in links -->
                            <ul class="cpg2k c51b6 co1gx c6tul c25u0">
                                <li>
                                    <a
                                        class="cwt5r cz8q2 c355y c79ey ctj2k c7s5g"
                                        href="#"
                                        aria-label="Subscribe to our eSIM newsletter"
                                    >
                                        Help
                                        <span class="text-blue-2300 cts3h ch6no ckx35 cru0k cucov c1ozx">-&gt;</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>

            <!-- Page content -->
            <main class="c51b6">
                <!-- Hero -->
                <section class="co2j4">
                    <div class="c9ute c64bb cmk35 chcho">
                        <div class="ca1sv c7l80 confk ceajn">
                            <div class="procutswrapper">
                                <!-- Product Filters -->
                                <div class="productfilters">
                                    <div class="filterduration" id="filterduration">
                                        <p>Duration (Days)</p>
                                        <img src="./images/filterarrow.png" alt="" />
                                        <div class="dropdown-menu dropdownforduration"></div>
                                    </div>
                                    <div class="filterdata" id="filterdata">
                                        <p>Data</p>
                                        <img src="./images/filterarrow.png" alt="" />
                                        <div class="dropdown-menu dropdownfordata"></div>
                                    </div>
                                </div>

                                <!-- Product Header -->
                                <div class="productheader">
                                    <div class="productheaderitem">
                                        <img src="./images/countries.png" />
                                        <p>Country</p>
                                    </div>
                                    <div class="productheaderitem headerdata">
                                        <img src="./images/signal-tower.png" />
                                        <p>Data</p>
                                    </div>
                                    <div class="productheaderitem">
                                        <img src="./images/duration.png" />
                                        <p>Duration</p>
                                    </div>
                                    <div class="productheaderitem">
                                        <img src="./images/pricetag.png" />
                                        <p>Price</p>
                                    </div>
                                    <div class="productheaderitem headerspeed">
                                        <img src="./images/speed.png" />
                                        <p>Speed</p>
                                    </div>
                                    <div class="productheaderitem">
                                        <img src="./images/checkout.png" />
                                        <p>Buy</p>
                                    </div>
                                </div>

                                <!-- Product Items -->
                                <div class="products" id="products">
                                    <div class="productitem">
                                        <div class="productdescandimage">
                                            <img src="./images/countryimages/th.png" class="img-fluid" />
                                            <p>Thailand</p>
                                            <p class="forsmallerscreendata">3GB</p>
                                        </div>
                                        <div class="data">
                                            <p>3GB</p>
                                        </div>
                                        <div class="duration">
                                            <p>30 Days</p>
                                        </div>
                                        <div class="price">
                                            <p>$20</p>
                                        </div>
                                        <div class="speed">
                                            <p>3G/4G/5G</p>
                                        </div>
                                        <div class="buybutton">
                                            <button>Buy</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Site footer -->
            <footer>
                <div class="c9ute c64bb cmk35 chcho">
                    <div class="crrqh cktb3">
                        <div class="cpg2k cxlmv c6tul c9tob cz1az chzuj">
                            <div class="cffw7 cwd29">
                                <div class="cpg2k cp8bu cxlmv c6tul cz1az">
                                    <!-- Logo -->
                                    <a class="cse12 cwrvl cwd29" href="index.html" aria-label="Global eSIM">
                                        <img src="./images/logo.svg" width="36" height="28" alt="Logo" />
                                    </a>
                                    <div class="cx2u1 ceqzt cs04f">
                                        Copyright Â© Reach Sim
                                        <span class="cl3ta c2oao">. All rights reserved.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Social links -->
                            <ul class="cwrvl cx72d">
                                <li>
                                    <a
                                        class="cpg2k c6tul c9tob cy8t1 c71yh cru0k cucov cqql8"
                                        href="#0"
                                        aria-label="Twitter"
                                    >
                                        <svg
                                            class="c76tx cok1d c5om4"
                                            viewBox="0 0 32 32"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="m13.063 9 3.495 4.475L20.601 9h2.454l-5.359 5.931L24 23h-4.938l-3.866-4.893L10.771 23H8.316l5.735-6.342L8 9h5.063Zm-.74 1.347h-1.457l8.875 11.232h1.36l-8.778-11.232Z"
                                            ></path>
                                        </svg>
                                    </a>
                                </li>
                                <li>
                                    <a
                                        class="cpg2k c6tul c9tob cy8t1 c71yh cru0k cucov cqql8"
                                        href="#0"
                                        aria-label="YouTube"
                                    >
                                        <svg
                                            class="c76tx cok1d c5om4"
                                            viewBox="0 0 32 32"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M23.8 12.8c-.2-1.3-.8-2.2-2.2-2.4C19.4 10 16 10 16 10s-3.4 0-5.6.4c-1.4.2-2.1 1.1-2.2 2.4C8 14.1 8 16 8 16s0 1.9.2 3.2c.2 1.3.8 2.2 2.2 2.4 2.2.4 5.6.4 5.6.4s3.4 0 5.6-.4c1.4-.3 2-1.1 2.2-2.4.2-1.3.2-3.2.2-3.2s0-1.9-.2-3.2ZM14 19v-6l5 3-5 3Z"
                                            ></path>
                                        </svg>
                                    </a>
                                </li>
                                <li>
                                    <a
                                        class="cpg2k c6tul c9tob cy8t1 c71yh cru0k cucov cqql8"
                                        href="#0"
                                        aria-label="Telegram"
                                    >
                                        <svg
                                            class="c76tx cok1d c5om4"
                                            viewBox="0 0 32 32"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M22.968 10.276a.338.338 0 0 0-.232-.253 1.192 1.192 0 0 0-.63.045s-14.019 5.038-14.82 5.596c-.172.121-.23.19-.259.272-.138.4.293.573.293.573l3.613 1.177a.388.388 0 0 0 .183-.011c.822-.519 8.27-5.222 8.7-5.38.068-.02.118 0 .1.049-.172.6-6.606 6.319-6.64 6.354a.138.138 0 0 0-.05.118l-.337 3.528s-.142 1.1.956 0a30.66 30.66 0 0 1 1.9-1.738c1.242.858 2.58 1.806 3.156 2.3a1 1 0 0 0 .732.283.825.825 0 0 0 .7-.622s2.561-10.275 2.646-11.658c.008-.135.021-.217.021-.317a1.177 1.177 0 0 0-.032-.316Z"
                                            ></path>
                                        </svg>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

        <script src="./js/alpinejs.min.js" defer=""></script>
        <script src="./js/aos.js"></script>
        <script src="./js/swiper-bundle.min.js"></script>
        <script src="./js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="./js/countriesdata.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                let filterData = document.getElementById("filterdata");
                let filterDuration = document.getElementById("filterduration");
                let dropdownData = document.querySelector(".dropdownfordata");
                let dropdownDuration = document.querySelector(".dropdownforduration");

                // Function to close both dropdowns
                function closeDropdowns() {
                    if (dropdownData.classList.contains("show")) {
                        dropdownData.classList.remove("show");
                    }
                    if (dropdownDuration.classList.contains("show")) {
                        dropdownDuration.classList.remove("show");
                    }
                }

                // Toggle dropdowns when clicked
                filterData.addEventListener("click", function (event) {
                    event.stopPropagation(); // Prevents bubbling
                    closeDropdowns();
                    dropdownData.classList.toggle("show");
                });

                filterDuration.addEventListener("click", function (event) {
                    event.stopPropagation(); // Prevents bubbling
                    closeDropdowns();
                    dropdownDuration.classList.toggle("show");
                });

                // Close dropdown when clicking outside
                document.addEventListener("click", function (event) {
                    if (
                        !filterData.contains(event.target) &&
                        !dropdownData.contains(event.target) &&
                        !filterDuration.contains(event.target) &&
                        !dropdownDuration.contains(event.target)
                    ) {
                        closeDropdowns();
                    }
                });

                // Close dropdown when selecting an option
                document.querySelectorAll(".dropdown-menu .dropdown-item").forEach((item) => {
                    item.addEventListener("click", function (event) {
                        event.stopPropagation(); // Prevents further event bubbling
                        console.log("Clicked on: " + item.textContent);
                        closeDropdowns();
                    });
                });
            });
        </script>
        <script src="./js/data.js"></script>
        <script>
            let fillthefilterData = function (pakages) {
                let filterData = document.getElementById("filterdata");
                let filterDuration = document.getElementById("filterduration");
                let dropdownData = document.querySelector(".dropdownfordata");
                let dropdownDuration = document.querySelector(".dropdownforduration");

                let data = [];
                let duration = [];
                for (let i = 0; i < pakages.length; i++) {
                    let package = pakages[i];
                    let dataSize;
                    if (package.volume >= 1024 * 1024 * 1024) {
                        // If it's 1GB or more, show in GB
                        dataSize = {
                            size: Math.floor(package.volume / (1024 * 1024 * 1024)),
                            unit: "GB",
                            volume: package.volume,
                        };
                    } else {
                        // If it's less than 1GB, show in MB
                        dataSize = {
                            size: Math.floor(package.volume / (1024 * 1024)),
                            unit: "MB",
                            volume: package.volume,
                        };
                    }
                    if (!data.some((d) => d.size === dataSize.size && d.unit === dataSize.unit)) {
                        data.push(dataSize);
                    }
                    if (!duration.includes(package.duration)) {
                        duration.push(package.duration);
                    }
                }

                // sort the data and duration in ascending order
                data.sort((a, b) => a.volume - b.volume);
                duration.sort((a, b) => a - b);

                // Fill the data filter
                let dataFilter = "";
                for (let i = 0; i < data.length; i++) {
                    dataFilter += `<a class="dropdown-item" href="#">${data[i].size} ${data[i].unit}</a>`;
                }
                dropdownData.innerHTML = dataFilter;

                // Fill the duration filter
                let durationFilter = "";
                for (let i = 0; i < duration.length; i++) {
                    let dayordays = duration[i] === 1 ? "Day" : "Days";
                    durationFilter += `<a class="dropdown-item" href="#">${duration[i]} ${dayordays}</a>`;
                }
                dropdownDuration.innerHTML = durationFilter;
            };
        </script>
        <script>
            let filterByDuration = false;
            let filterByData = false;
            let initData = function (filterByDuration, filterByData) {
                // create productitem for each package
                let pakages = apidata.obj.packageList;
                // filter out the packages and only show show the ones that have only one locationNetworkList
                pakages = pakages.filter((pakage) => pakage.locationNetworkList.length === 1);
                // fill the filterByDuration and filterByData
                fillthefilterData(pakages);
                let productContainer = document.getElementById("products");
                for (let i = 0; i < pakages.length; i++) {
                    let package = pakages[i];
                    let productItem = document.createElement("div");
                    productItem.className = "product-item";

                    let dataSize;
                    const priceInDollars = (package.price / 10000).toFixed(2).replace(/\.00$/, "");
                    if (package.volume >= 1024 * 1024 * 1024) {
                        // If it's 1GB or more, show in GB
                        dataSize = Math.floor(package.volume / (1024 * 1024 * 1024)) + "GB";
                    } else {
                        // If it's less than 1GB, show in MB
                        dataSize = Math.floor(package.volume / (1024 * 1024)) + "MB";
                    }

                    productItem.innerHTML = `
                <div class="productitem">
                    <div class="productdescandimage">
                        <img src="./images/countryimages/${package.locationNetworkList[0].locationCode}.png" class="img-fluid" alt="${package.locationNetworkList[0].locationName}" />
                        <p>${package.locationNetworkList[0].locationName}</p>
                        <p class="forsmallerscreendata">${dataSize}</p>
                    </div>
                    <div class="data">
                        <p>${dataSize}</p>
                    </div>
                    <div class="duration">
                        <p>${package.duration} ${package.durationUnit}</p>
                    </div>
                    <div class="price">
                        <p>$${priceInDollars}</p>
                    </div>
                    <div class="speed">
                        <p>${package.speed}</p>
                    </div>
                    <div class="buybutton">
                        <button>Buy</button>
                    </div>
                </div>
            `;

                    productContainer.appendChild(productItem);
                }
            };

            // Initialize the data
            initData(filterByDuration, filterByData);
        </script>
    </body>
</html>
